<%- include('partials/header') -%>
<!--  -->
<div class="container">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-5">
    <div class="p-4 bg-white rounded-lg">
      <h2 class="text-2xl font-bold mb-4"><%= post.title %></h2>
      <div class="aspect-w-3 aspect-h-2">
        <img class="object-cover rounded-lg" src="<%= post.image%>" alt="Post Image" />
      </div>
      <div class="grid grid-cols-3 gap-4 mt-4">
        <form action="/post/likePost/<%= post.id %>?_method=PUT" method="POST">
          <button class="btn bg-green-500 text-white p-2 rounded-full" type="submit">
            <i class="fa fa-heart"></i>
          </button>
        </form>
        <h3 class="col-span-2">Likes: <%= post.likes %></h3>
        <% if(post.user == user.id) { %>
        <form action="/post/deletePost/<%= post.id %>?_method=DELETE" method="POST">
          <button class="btn bg-red-500 text-white p-2 rounded-full" type="submit">
            <i class="fa fa-trash"></i>
          </button>
        </form>
        <% } %>
      </div>
    </div>
    <div class="p-4 bg-white rounded-lg mt-5">
      <p><%= post.descriptions %></p>
      <h2 class="text-xl font-bold mb-2">Ingredients:</h2>
      <ul class="text-gray-500 list-disc list-inside">
        <% post.ingredients.forEach((ingredient) => { %>
        <li><%= ingredient %></li>
        <% }); %>
      </ul>
      <h2 class="text-xl font-bold mt-4 mb-2">Instructions:</h2>
      <ol>
        <% post.instructions.forEach((instruction) => { %>
        <li><%= instruction %></li>
        <% }); %>
      </ol>
    </div>
    <div class="p-4 bg-white rounded-lg mt-5">
      <h2 class="text-xl font-bold mb-4">Add Comment</h2>
      <form action="/comment/createComment/<%= post._id%>" method="POST">
        <div class="mb-3">
          <label for="comment" class="form-label">Comment</label>
          <input type="text" class="form-control" id="comment" name="comment">
        </div>
        <button type="submit" class="btn bg-blue-500 text-white">Submit</button>
      </form>
      <ul>
        <% for(var i=0; i<comments.length; i++) { %>
        <li class="mt-5">
          <strong><%= comments[i].user %>: </strong><%= comments[i].comment %>
        </li>
        <% } %>
      </ul>
    </div>
    <div class="col-span-2 mt-5">
      <a class="btn bg-blue-500 text-white" href="/profile">Return to Profile</a>
      <a class="btn bg-blue-500 text-white" href="/feed">Return to Feed</a>
    </div>
  </div>
</div>

<%- include('partials/footer') -%>
